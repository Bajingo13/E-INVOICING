<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chart of Accounts | E-Invoicing</title>
  <link rel="stylesheet" href="COA.css">
</head>
<body>

<div class="coa-container">

  <!-- HEADER -->
  <header class="coa-header">
    <div>
      <h1>Chart of Accounts</h1>
      <div class="subhead">Manage account codes, tax rates, and EWT mapping</div>
    </div>

    <!-- Exit should NOT be red (not destructive) -->
    <a href="/Dashboard.html" class="btn secondary exit">F10 Exit</a>
  </header>

  <!-- TOOLBAR -->
  <div class="coa-toolbar">
    <div class="coa-buttons">
      <button id="addBtn" class="btn">F2 Add</button>
      <button id="editBtn" class="btn secondary">F3 Edit</button>
      <button id="deleteBtn" class="btn danger">F4 Delete</button>

      <button id="importBtn" class="btn secondary">F5 Import</button>
      <input type="file" id="importFile" accept=".csv" style="display:none;">

      <button class="btn secondary" id="printBtn">F6 Print</button>
    </div>

    <div class="coa-search-row">
      <div class="search-wrap">
        <span class="search-icon">ðŸ”Ž</span>
        <input type="text" id="searchInput" placeholder="Search by code, name, type..." />
      </div>
      <button class="btn secondary mini" id="searchBtn" type="button">Search</button>

      <!-- Optional meta pills (won't break if JS doesn't touch them) -->
      <div class="meta">
        <span class="pill"><span class="label">Shown</span> <span class="value" id="shownCount">0</span></span>
        <span class="pill"><span class="label">Selected</span> <span class="value" id="selectedCount">0</span></span>
      </div>
    </div>
  </div>

  <!-- FORM (sticky) -->
  <form class="coa-form" onsubmit="return false;">
    <div class="form-group">
      <label>CODE</label>
      <input id="codeInput" type="text" />
    </div>

    <div class="form-group">
      <label>DATE</label>
      <input id="dateInput" type="date" />
    </div>

    <div class="form-group">
      <label>TITLE</label>
      <input id="titleInput" type="text" />
    </div>

    <div class="form-group">
      <label>CLASS</label>
      <select id="classSelect">
        <option value="A">ASSET</option>
        <option value="L">LIABILITY</option>
        <option value="C">EQUITY</option>
        <option value="I">REVENUE</option>
        <option value="E">EXPENSE</option>
      </select>
    </div>

    <div class="form-group">
      <label>TAX RATE</label>
      <select id="taxRateSelect">
        <option value="0">Tax Exempt (0%)</option>
        <option value="1">1%</option>
        <option value="5">5%</option>
        <option value="12">12%</option>
        <option value="18">18%</option>
        <option value="custom">Custom...</option>
      </select>
      <input id="customTaxInput" type="number" step="0.01"
             placeholder="Enter custom VAT (%)"
             style="display:none; margin-top:8px;">
    </div>

    <div class="form-group">
      <label>EWT</label>
      <select id="ewtSelect"></select>
    </div>
  </form>

  <div class="form-actions">
    <button id="saveBtn" class="btn save" type="button">Save</button>
    <button id="cancelBtn" class="btn secondary" type="button">Cancel</button>
  </div>

  <!-- TABS -->
  <div class="coa-tabs" role="tablist" aria-label="Account Filters">
    <button class="tab active" type="button">All Accounts</button>
    <button class="tab" type="button">Assets</button>
    <button class="tab" type="button">Liabilities</button>
    <button class="tab" type="button">Equity</button>
    <button class="tab" type="button">Expenses</button>
    <button class="tab" type="button">Revenue</button>
    <button class="tab" type="button">Archive</button>
  </div>

  <!-- TABLE -->
  <div class="table-wrapper">
    <table class="coa-table">
      <thead>
        <tr>
          <th class="col-check"><input type="checkbox" id="selectAll"></th>
          <th data-sort="code" class="coa-code">Code</th>
          <th data-sort="title" class="coa-name">Name</th>
          <th data-sort="classType" class="coa-type">Type</th>
          <th data-sort="taxRate" class="coa-tax">Tax Rate</th>
          <th data-sort="ewtId" class="coa-ewt">EWT</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <!-- optional empty state -->
    <div class="empty" id="emptyState" style="display:none;">
      No accounts found. Try searching, or click <b>F2 Add</b>.
    </div>
  </div>

</div>

<script src="./COA.JS" defer></script>
</body>
</html>
